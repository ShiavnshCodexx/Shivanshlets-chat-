<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ğ’ğ¡ğ¢ğ¯ğšğ§ğ¬ğ¡ğ‚ğ¨ğğğ±</title>

<style>
*{box-sizing:border-box;font-family:system-ui}
body{
  margin:0;min-height:100vh;
  background:linear-gradient(120deg,#020024,#090979,#00d4ff);
  display:flex;align-items:center;justify-content:center;
}
.card{
  width:100%;max-width:360px;
  background:#000000cc;color:#00ffcc;
  padding:20px;border-radius:14px;
}
h2{text-align:center;margin-bottom:15px}
input,button{
  width:100%;padding:12px;
  margin-top:10px;border-radius:8px;
  border:none;font-size:16px;
}
input{background:#111;color:#00ffcc}
button{background:#00ffcc;color:#000;font-weight:bold}
.toggle{text-align:center;margin-top:10px;cursor:pointer}
</style>
</head>
<body>

<div class="card">
  <h2>ğ’ğ¡ğ¢ğ¯ğšğ§ğ¬ğ¡ğ‚ğ¨ğğğ±</h2>

  <input id="username" placeholder="Username">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">LOGIN</button>

  <div class="toggle" onclick="signup()">Create Account</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-database.js";

const firebaseConfig = {
 apiKey:"AIzaSyAYsZ0jwE2uUVM8A0HPkq_cCYWWhb6eVlE",
 authDomain:"shivanshchat-b66da.firebaseapp.com",
 projectId:"shivanshchat-b66da",
 databaseURL:"https://shivanshchat-b66da-default-rtdb.firebaseio.com"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.login = async () => {
 const u = username.value.trim();
 const p = password.value.trim();
 if(!u||!p) return alert("Fill all");

 // ğŸ” ADMIN CHECK
 if(u==="shiavnsh@62718" && p==="chrome@7282"){
   localStorage.setItem("role","admin");
   location.href="admin.html";
   return;
 }

 const snap = await get(ref(db,"users/"+u));
 if(!snap.exists()) return alert("Account not found");
 if(snap.val().password!==p) return alert("Wrong password");

 localStorage.setItem("user",u);
 localStorage.setItem("role","user");
 location.href="chat.html";
}

window.signup = async () => {
 const u = username.value.trim();
 const p = password.value.trim();
 if(!u||!p) return alert("Fill all");

 await set(ref(db,"users/"+u),{
   password:p,
   created:Date.now()
 });
 alert("Account created, now login");
}
</script>
</body>
</html>
