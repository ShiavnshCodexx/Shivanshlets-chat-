<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Welcome to Shivansh Codex</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family: "Courier New", monospace;}
body{
  background:#020b08;
  color:#00ff9c;
  min-height:200vh;
  overflow-y:auto;
}

/* ===== LIVE BACKGROUND LAYERS ===== */
.bg-grid{
  position:fixed;
  inset:0;
  background:
    linear-gradient(#00ff9c22 1px, transparent 1px),
    linear-gradient(90deg, #00ff9c22 1px, transparent 1px);
  background-size:40px 40px;
  animation:gridMove 10s linear infinite;
  z-index:-3;
}
@keyframes gridMove{
  from{background-position:0 0;}
  to{background-position:40px 40px;}
}

.scanlines{
  position:fixed;
  inset:0;
  background:linear-gradient(
    to bottom,
    rgba(255,255,255,0.03) 1px,
    transparent 2px
  );
  background-size:100% 4px;
  animation:scan 2s linear infinite;
  z-index:-2;
}
@keyframes scan{
  from{background-position:0 0;}
  to{background-position:0 100%;}
}

.noise{
  position:fixed;
  inset:0;
  background:url("https://grainy-gradients.vercel.app/noise.svg");
  opacity:0.08;
  z-index:-1;
}

/* ===== CONTENT ===== */
.container{
  max-width:900px;
  margin:auto;
  padding:40px 15px;
  text-align:center;
}

h1{
  font-size:2.2rem;
  margin-bottom:25px;
  text-shadow:0 0 12px #00ff9c;
}

/* ===== TERMINAL ===== */
.terminal{
  border:1px solid #00ff9c66;
  padding:25px;
  margin-bottom:25px;
  background:#021510;
  box-shadow:0 0 20px #00ff9c33;
  text-align:left;
  min-height:220px;
}

.line{margin-bottom:10px;}

button{
  padding:15px 40px;
  background:#00ff9c;
  color:#000;
  border:none;
  cursor:pointer;
  font-weight:bold;
  letter-spacing:2px;
  box-shadow:0 0 20px #00ff9c;
}
button:hover{background:#00ffaa;}

/* ===== CHAT AREA ===== */
.chat-box{
  display:none;
  margin-top:25px;
  border:1px solid #00ff9c55;
  padding:20px;
  background:#021510;
}

input{
  width:100%;
  padding:12px;
  background:#000;
  border:1px solid #00ff9c;
  color:#00ff9c;
  margin-top:15px;
}
</style>
</head>

<body>

<div class="bg-grid"></div>
<div class="scanlines"></div>
<div class="noise"></div>

<div class="container">
  <h1>Welcome to Shivansh Codex</h1>

  <div class="terminal" id="boot">
    <div class="line">> Initializing terminal...</div>
    <div class="line">> Loading secure modules...</div>
    <div class="line">> Synchronizing network layers...</div>
    <div class="line">> System ready.</div>
  </div>

  <button onclick="startScan()">LET'S CHAT</button>

  <div class="chat-box" id="chat">
    <div class="line" id="scan">> Scanning device...</div>
    <div class="line" id="time"></div>
    <div class="line" id="battery"></div>
    <div class="line" id="ip"></div>
    <div class="line" id="location"></div>
    <div class="line">> Scan finished safely.</div>

    <input placeholder="Type your message..." />
  </div>
</div>

<script>
async function startScan(){
  document.getElementById("chat").style.display="block";

  // Time
  document.getElementById("time").innerText =
    "> Time: " + new Date().toLocaleString();

  // Battery
  if(navigator.getBattery){
    navigator.getBattery().then(b=>{
      document.getElementById("battery").innerText =
        "> Battery: " + Math.round(b.level*100) + "%";
    });
  } else {
    document.getElementById("battery").innerText =
      "> Battery: Not supported";
  }

  // IP + Location (WORKING FIX)
  try{
    const res = await fetch("https://ipapi.co/json/");
    const data = await res.json();

    document.getElementById("ip").innerText =
      "> IP Address: " + data.ip;

    document.getElementById("location").innerText =
      "> Location: " + data.city + ", " + data.country_name;
  }catch(e){
    document.getElementById("ip").innerText =
      "> IP Address: Unavailable";
    document.getElementById("location").innerText =
      "> Location: Public API blocked";
  }
}
</script>

</body>
</html>
