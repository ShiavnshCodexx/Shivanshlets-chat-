<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Admin | Shivanshcodex</title>
<style>
body{margin:0;background:#000;color:#00ffcc}
.user{padding:10px;border-bottom:1px solid #333}
</style>
</head>
<body>

<h2 style="padding:10px">ADMIN PANEL</h2>
<div id="list"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-database.js";

if(localStorage.getItem("role")!=="admin"){
 location.href="index.html";
}

const app = initializeApp({
 databaseURL:"https://shivanshchat-b66da-default-rtdb.firebaseio.com"
});
const db = getDatabase(app);

onValue(ref(db,"messages"),snap=>{
 list.innerHTML="";
 snap.forEach(u=>{
   list.innerHTML+=`<div class="user">${u.key}</div>`;
 });
});
</script>
</body>
</html>
